const container=document.getElementById("container");function c(e){e.preventDefault()}document.getElementById("submitUrl").addEventListener("submit",c),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),document.getElementById("submitUrl").onsubmit=function(){var e,t=document.getElementById("url").value;document.getElementsByClassName("links").length<1?((e=document.createElement("div")).className="links",e.innerHTML="Loading..."):(e=document.getElementsByClassName("links")[0]).innerHTML="Loading...";var n=document.createElement("table");n.className="table";let l=document.createElement("thead"),a=document.createElement("tr"),d=document.createElement("th");d.innerHTML="Download";let r=document.createElement("th");r.innerHTML="Format";let o=document.createElement("th");o.innerHTML="Quality";let i=document.createElement("th");i.innerHTML="Has Audio";let c=document.createElement("th");c.innerHTML="Has Video",a.appendChild(d),a.appendChild(r),a.appendChild(o),a.appendChild(i),a.appendChild(c),l.appendChild(a),n.appendChild(l);var m=document.createElement("tbody");getInfo(t).then(function(t){e.innerHTML="";for(let e=0,n=t.formats.length;e<n;e++){let n=document.createElement("tr"),l=document.createElement("td"),a=document.createElement("a");a.href=t.formats[e].url,a.target="_blank",a.innerHTML="Download",l.appendChild(a);let d=document.createElement("td");d.innerHTML=t.formats[e].mimeType.split(";")[0];let r=document.createElement("td");null==t.formats[e].qualityLabel||null==t.formats[e].qualityLabel?null==t.formats[e].quality||null==t.formats[e].quality?r.innerHTML="Unknown":r.innerHTML=t.formats[e].quality:null==t.formats[e].quality||null==t.formats[e].quality?r.innerHTML=t.formats[e].qualityLabel:r.innerHTML=t.formats[e].quality.concat(" (",t.formats[e].qualityLabel,")");let o=document.createElement("td");o.innerHTML=t.formats[e].hasAudio.toString();let i=document.createElement("td");i.innerHTML=t.formats[e].hasVideo.toString(),n.appendChild(l),n.appendChild(d),n.appendChild(r),n.appendChild(o),n.appendChild(i),m.appendChild(n),m.appendChild(document.createElement("br"))}n.appendChild(m),e.appendChild(n),container.appendChild(e),document.body.style.position="static"})};const svgContainer=document.getElementById("svg-container"),d='<svg height="24"viewBox="0 0 16.933333 16.933334"width="24"><defs id="defs2"/><path d="M 32 0 A 31.999998 31.999998 0 0 0 0 32 A 31.999998 31.999998 0 0 0 32 64 A 31.999998 31.999998 0 0 0 41.949219 62.396484 A 31.999998 31.999998 0 0 1 19.896484 32 A 31.999998 31.999998 0 0 1 41.970703 1.5957031 A 31.999998 31.999998 0 0 0 32 0 z "id="path31"style="fill:#bbb;fill-rule:evenodd"transform="scale(0.26458333)"/></svg>',l='<svg height="24"viewBox="0 0 16.933333 16.933334"width="24"><circle cx="8.4666662"cy="8.4666662"id="path404"r="4.7936082"style="fill:#777"/><path d="M 29 0 L 29 8.9863281 L 35 8.9863281 L 35 0 L 29 0 z M 29 55.013672 L 29 64 L 35 64 L 35 55.013672 L 29 55.013672 z "id="rect530"style="fill:#777"transform="scale(0.26458333)"/><path d="M 16.933333,7.6729165 H 14.5557 v 1.5875 h 2.377633 z m -14.5557009,0 H 1e-7 v 1.5875 h 2.377632 z"id="rect530-7"style="fill:#777"/><path d="m 13.892238,1.9185632 -1.68124,1.6812401 1.122532,1.122532 1.68124,-1.6812401 z M 3.599803,12.210998 1.9185633,13.892238 3.0410953,15.01477 4.722335,13.33353 Z"id="rect530-72"style="fill:#777"/><path d="m 15.01477,13.892238 -1.68124,-1.68124 -1.122532,1.122532 1.68124,1.68124 z M 4.722335,3.5998029 3.0410953,1.9185632 1.9185633,3.0410952 3.599803,4.7223349 Z"id="rect530-0"style="fill:#777"/></svg>';function a(){document.getElementById("toggle").checked?(svgContainer.innerHTML=d,document.body.classList.add("dark-mode"),localStorage.setItem("preference","1")):(svgContainer.innerHTML=l,document.body.classList.remove("dark-mode"),localStorage.setItem("preference","0"))}window.onload=function(e){null===localStorage.getItem("preference")&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?localStorage.setItem("preference","1"):localStorage.setItem("preference","0")),"0"===localStorage.getItem("preference")?svgContainer.innerHTML=l:(svgContainer.innerHTML=d,document.body.classList.add("dark-mode"),document.getElementById("toggle").checked=!0),window.matchMedia("only screen and (max-width: 760px)").matches&&(document.getElementsByClassName("inputBox")[0].querySelector("label").innerHTML="Video URL")};
